<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Super Intellect (Web Powered)</title>
  <style>
    body { font-family: "Segoe UI", sans-serif; background:#0f172a; color:#e2e8f0; display:flex; flex-direction:column; align-items:center; height:100vh; margin:0;}
    h1 { margin-top:20px; color:#38bdf8; text-shadow:0 0 12px #38bdf8;}
    #chat { flex:1; width:80%; max-width:900px; margin:20px; padding:20px; background:#1e293b; border-radius:14px; overflow-y:auto; box-shadow:0 0 20px rgba(56,189,248,0.3);}
    .msg { margin:10px 0; line-height:1.4; }
    .user { color:#38bdf8; text-align:right; }
    .bot { color:#f8fafc; text-align:left; }
    #input-area { width:80%; max-width:900px; display:flex; margin-bottom:20px;}
    #input { flex:1; padding:12px; font-size:1em; border-radius:10px 0 0 10px; border:none; outline:none;}
    #send { padding:12px 20px; border:none; background:#38bdf8; color:#000; border-radius:0 10px 10px 0; cursor:pointer;}
  </style>
</head>
<body>
  <h1>🤖 Super Intellect</h1>
  <div id="chat"></div>
  <div id="input-area">
    <input id="input" type="text" placeholder="Ask me anything..." />
    <button id="send">Send</button>
  </div>

  <script>
    const chat = document.getElementById("chat");
    const input = document.getElementById("input");
    const send = document.getElementById("send");

    // 🧠 Memory
    const memory = { facts: [], concepts: {} };

    // 🔍 Web lookup function (DuckDuckGo Instant Answer API)
    async function webSearch(query) {
      try {
        const res = await fetch(`https://api.duckduckgo.com/?q=${encodeURIComponent(query)}&format=json&no_redirect=1&no_html=1`);
        const data = await res.json();
        if (data.AbstractText) return data.AbstractText;
        if (data.Heading) return `I found something: ${data.Heading}`;
        return "I couldn’t find an answer online, but let’s think about it.";
      } catch (e) {
        return "I tried looking it up, but there was an error.";
      }
    }

    // 🧩 Reasoning
    async function reason(message) {
      const lower = message.toLowerCase();

      // Learn "X is Y"
      if (lower.includes(" is ")) {
        const [sub, pred] = lower.split(" is ");
        memory.facts.push({ subject: sub.trim(), predicate: pred.trim() });
        return `Noted: ${sub.trim()} is ${pred.trim()}.`;
      }

      // Recall
      if (lower.startsWith("what is ")) {
        const query = lower.replace("what is ", "").trim();
        const fact = memory.facts.find(f => f.subject === query);
        if (memory.concepts[query]) return `${query} is ${memory.concepts[query]}`;
        if (fact) return `${fact.subject} is ${fact.predicate}`;
        return await webSearch(query);
      }

      if (lower.startsWith("define ")) {
        const [concept, def] = message.slice(7).split(" as ");
        if (concept && def) {
          memory.concepts[concept.trim()] = def.trim();
          return `Definition stored: ${concept.trim()} → ${def.trim()}.`;
        }
      }

      if (lower.includes("remember")) {
        if (memory.facts.length === 0) return "I don’t have stored facts yet.";
        return "Here’s what I recall: " + memory.facts.map(f => `${f.subject} is ${f.predicate}`).join("; ");
      }

      if (lower.includes("how")) return "Step by step: analyze, hypothesize, and test until truth emerges.";
      if (lower.includes("why")) return "Because causes ripple into effects — the structure of reality itself.";

      // Fallback: Look it up
      return await webSearch(message);
    }

    function addMessage(text, cls) {
      const div = document.createElement("div");
      div.className = "msg " + cls;
      div.innerText = text;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    }

    async function handleInput() {
      const text = input.value.trim();
      if (!text) return;
      addMessage(text, "user");
      input.value = "";

      const reply = await reason(text);
      addMessage(reply, "bot");
    }

    send.addEventListener("click", handleInput);
    input.addEventListener("keydown", e => {
      if (e.key === "Enter") handleInput();
    });
  </script>
</body>
</html>

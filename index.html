<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SuperIntellect Copilot Edition</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #0b0c10, #161b22);
      color: #e6edf3;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #app {
      width: 100%;
      max-width: 900px;
      height: 90vh;
      background: #111418;
      border-radius: 14px;
      box-shadow: 0 0 30px rgba(255,215,0,0.15);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      border: 1px solid rgba(255,215,0,0.2);
    }
    header {
      background: linear-gradient(90deg, #1a1f29, #2a2f3d);
      padding: 15px 20px;
      font-size: 1.3em;
      font-weight: bold;
      border-bottom: 1px solid #2d333b;
      color: gold;
      text-shadow: 0 0 12px rgba(255,215,0,0.6);
    }
    #chat {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }
    .msg {
      margin: 10px 0;
      padding: 12px 16px;
      border-radius: 10px;
      max-width: 70%;
      line-height: 1.4;
      animation: fadeIn 0.3s ease;
    }
    .user {
      background: linear-gradient(135deg, #ff6f61, #ffcc00);
      color: #000;
      margin-left: auto;
      text-align: right;
      font-weight: 500;
    }
    .ai {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255,215,0,0.3);
      color: #f1f1f1;
      margin-right: auto;
      text-align: left;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(8px);}
      to {opacity: 1; transform: translateY(0);}
    }
    #inputBox {
      display: flex;
      padding: 15px;
      background: #1f2937;
      border-top: 1px solid #2d333b;
    }
    #userInput {
      flex: 1;
      padding: 12px;
      border-radius: 8px;
      border: none;
      outline: none;
      font-size: 1em;
      background: #0d1117;
      color: #fff;
    }
    button {
      margin-left: 10px;
      padding: 12px 18px;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      background: gold;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover {
      background: #e6c300;
    }
    #thinking {
      margin: 10px;
      font-style: italic;
      color: gold;
      display: none;
      animation: pulse 1s infinite;
    }
    @keyframes pulse {
      0% {opacity: 0.3;}
      50% {opacity: 1;}
      100% {opacity: 0.3;}
    }
    #auth {
      width: 350px;
      background: #161b22;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(255,215,0,0.25);
      text-align: center;
      border: 1px solid rgba(255,215,0,0.3);
    }
    #auth h2 {
      color: gold;
      margin-bottom: 20px;
    }
    #auth input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 8px;
      border: none;
      background: #0d1117;
      color: #fff;
    }
    #auth button {
      width: 100%;
      margin-top: 10px;
    }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div id="auth">
    <h2>Sign In / Sign Up</h2>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button onclick="signup()">Sign Up</button>
    <button onclick="login()">Login</button>
    <p id="authMsg" style="color: red;"></p>
  </div>

  <div id="app" class="hidden">
    <header>SuperIntellect Copilot Edition</header>
    <div id="chat"></div>
    <p id="thinking">Thinkingâ€¦</p>
    <div id="inputBox">
      <input type="text" id="userInput" placeholder="Type a message...">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <script>
    const chatBox = document.getElementById("chat");
    const thinkingEl = document.getElementById("thinking");
    const app = document.getElementById("app");
    const auth = document.getElementById("auth");
    const authMsg = document.getElementById("authMsg");
    let currentUser = null;
    let userName = null;

    const facts = {
      "capital of france": "Paris",
      "capital of japan": "Tokyo",
      "capital of germany": "Berlin",
      "speed of light": "299,792,458 meters per second",
      "pi": "3.14159",
      "meaning of life": "42",
      "president of usa": "Donald Trump",
      "your favorite play": "Jerry Rice"
    };

    const jokes = [
      "Why don't scientists trust atoms? Because they make up everything!",
      "Why did the computer go to therapy? It had too many tabs open.",
      "Why did the math book look sad? Because it had too many problems."
    ];

    function signup() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      if (!user || !pass) return authMsg.textContent = "Fill both fields.";
      if (localStorage.getItem(user)) return authMsg.textContent = "User already exists.";
      localStorage.setItem(user, JSON.stringify({ password: pass, name: null }));
      authMsg.style.color = "green";
      authMsg.textContent = "Sign up successful. Please login.";
    }

    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      const stored = localStorage.getItem(user);
      if (!user || !pass) return authMsg.textContent = "Fill both fields.";
      if (stored) {
        const data = JSON.parse(stored);
        if (data.password === pass) {
          currentUser = user;
          userName = data.name;
          auth.classList.add("hidden");
          app.classList.remove("hidden");
          addMessage("AI", `Welcome back, ${userName || currentUser}!`, "ai");
        } else {
          authMsg.textContent = "Invalid password.";
        }
      } else {
        authMsg.textContent = "User not found.";
      }
    }

    function sendMessage() {
      const input = document.getElementById("userInput");
      const userText = input.value.trim();
      if (!userText) return;

      addMessage("You", userText, "user");
      input.value = "";
      thinkingEl.style.display = "block";

      setTimeout(() => {
        const reply = getSmartReply(userText);
        addMessage("AI", reply, "ai");
        thinkingEl.style.display = "none";
      }, 600);
    }

    function addMessage(sender, text, cls) {
      const msg = document.createElement("div");
      msg.className = "msg " + cls;
      msg.innerHTML = `<strong>${sender}:</strong> ${text}`;
      chatBox.appendChild(msg);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function getSmartReply(input) {
      const lower = input.toLowerCase();
      const nameMatch = lower.match(/(?:my name is|call me|i am) (\w+)/);
      if (nameMatch) {
        userName = capitalize(nameMatch[1]);
        const userData = JSON.parse(localStorage.getItem(currentUser));
        userData.name = userName;
        localStorage.setItem(currentUser, JSON.stringify(userData));
        return `Nice to meet you, ${userName}!`;
      }

      if (/what is my name/.test(lower)) {
        return userName ? `Your name is ${userName}.` : `I don't know your name yet. Tell me by saying "My name is..."`;
      }

      if (/time|date/.test(lower)) {
        const now = new Date();
        return `It's ${now.toLocaleTimeString()} on ${now.toDateString()}.`;
      }

      if (/[\d+\-*/().]/.test(lower)) {
        try {
          const result = eval(lower.replace(/[^-()\d/*+.]/g, ''));
          return `The answer is ${result}.`;
        } catch {
          return "Hmm, I couldn't solve that math expression.";
        }
      }

      const capitalMatch = lower.match(/capital of (\w+)/);
      if (capitalMatch) {
        const key = `capital of ${capitalMatch[1]}`;
        return facts[key] || `I don't know the capital of ${capitalize(capitalMatch[1])}.`;
      }

      if (/hello|hi|hey/.test(lower)) {
        return userName ? `Hey ${userName}! How can I help you today?` : `Hello! What's your name?`;
      }

      if (/bye|goodbye|see you/.test(lower)) {
        return userName ? `See you soon, ${userName}!` : `Goodbye!`;
      }

      if (/joke|laugh/.test(lower)) {
        return jokes[Math.floor(Math.random() * jokes.length)];
      }

      return "I'm still learning, but I try my best! Ask me about capitals, math, time, jokes, or tell me your name.";
    }

    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    document.getElementById("userInput").addEventListener("keypress", function(e) {
      if (e.key === "Enter") sendMessage();
    });
  </script>
</body>
</html>


